---
title: Secura Backend
emoji: ğŸ›¡ï¸
colorFrom: blue
colorTo: purple
sdk: docker
pinned: false
app_port: 7860
---

# ğŸ›¡ï¸ Secura - AI-Powered Cyber Incident Management System

[![Next.js](https://img.shields.io/badge/Next.js-16-black)](https://nextjs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-009688)](https://fastapi.tiangolo.com/)
[![Firebase](https://img.shields.io/badge/Firebase-11-orange)](https://firebase.google.com/)
[![Python](https://img.shields.io/badge/Python-3.11+-blue)](https://python.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)](https://typescriptlang.org/)
[![Production Ready](https://img.shields.io/badge/Status-Production%20Ready-brightgreen)](https://github.com)

## ğŸŒ Live Deployment

- **Frontend:** [https://secura-cyber-incident.vercel.app](https://secura-cyber-incident.vercel.app) (Vercel)
- **Backend API:** [https://adithaf7-secura-backend.hf.space](https://adithaf7-secura-backend.hf.space) (HuggingFace Spaces)
  - API Docs: [/docs](https://adithaf7-secura-backend.hf.space/docs)
  - Health Check: [/health](https://adithaf7-secura-backend.hf.space/health)
- **CI/CD:** [GitHub Actions Pipeline](https://github.com/AdithaBuwaneka/secura-cyber-incident/actions)

**Secura** is a comprehensive, AI-powered cybersecurity incident management platform designed to streamline incident reporting, enhance threat analysis, and facilitate real-time collaboration between employees, security teams, and administrators.

## ğŸ¯ Key Features

### ğŸ¤– AI-Powered Security Analysis

**Dual AI Categorization System:**
- **ML-Based Categorization**: Automatic incident classification using scikit-learn ensemble models (Logistic Regression, SVM, Random Forest) with TF-IDF vectorization - 85%+ accuracy. Used by default for real-time incident predictions.
- **Gemini AI Categorization**: Advanced natural language analysis using Gemini 2.5 Flash for detailed reasoning and context understanding. Provides human-readable explanations and threat analysis. Activated via "Generate AI Predictions" button or for image analysis.

**Additional AI Features:**
- **Threat Score Prediction**: ML-based threat scoring (0-100) using ensemble regression models
- **Severity Assessment**: Multi-factor severity prediction with confidence scoring
- **Predictive Analytics**: Historical pattern analysis for future incident forecasting
- **Anomaly Detection**: ML-based detection of unusual security incident patterns
- **Image Analysis with OCR**: Dual-mode analysis using Tesseract OCR + Gemini AI for image threat detection
- **Mitigation Strategies**: Context-aware response recommendations generated by Gemini AI
- **Threat Intelligence**: Industry pattern analysis using historical incident data
- **RAG Chatbot**: Context-aware conversational assistance powered by Gemini 2.5 Flash & Pinecone vector DB

### ğŸ‘¥ Role-Based Access Control
- **Employee**: Incident reporting with AI assistance, apply for security team
- **Security Team Member**: Incident analysis, investigation tools, team collaboration
- **Security Team Lead**: All member capabilities + assign incidents + create team chat rooms
- **Admin**: User management, executive insights, compliance reporting, predictive analytics

### ğŸ“Š Comprehensive Analytics
- **Real-time Dashboards**: Executive and operational views
- **Performance Metrics**: Response times, resolution rates
- **Compliance Reports**: GDPR, HIPAA, SOX automated reporting
- **System Health**: Uptime monitoring and performance tracking

### ğŸ’¬ Real-time Communication
- **WebSocket Integration**: Instant notifications and updates
- **Incident Threading**: Organized discussions per incident
- **File Sharing**: Secure evidence and document exchange
- **AI Chatbot Widget**: Context-aware assistant available on all pages

## ğŸ› ï¸ Technology Stack

**Frontend:**
- Next.js 16, React 19, TypeScript 5, Tailwind 3.4
- Redux Toolkit 2.8, Firebase 11, Chart.js 4.5, ImageKit, WebSockets

**Backend:**
- FastAPI 0.104, Python 3.11+, Uvicorn
- Firebase Firestore, Firebase Admin 6.2, ImageKit, SendGrid
- Pydantic 2.0+, ReportLab

**AI/ML:**
- Gemini 2.5 Flash (LLM), Gemini-embedding-001 (768-dim embeddings)
- Pinecone 3.0 (vector DB), Scikit-learn (ensemble models)
- TF-IDF Vectorization, Tesseract OCR

**DevOps:**
- Vercel (frontend), HuggingFace Spaces (backend), GitHub Actions (CI/CD), Docker

## ğŸ“‹ Prerequisites

Before setting up Secura, ensure you have:

- **Node.js** 18+ and npm
- **Python** 3.11+
- **Firebase** project with Firestore enabled
- **ImageKit** account for file storage
- **Google AI Studio** API key for Gemini
- **Pinecone** account for vector database
- **SendGrid** account (optional, for email notifications)

## ğŸš€ Installation & Setup

### Step 1: Clone Repository
```bash
git clone https://github.com/AdithaBuwaneka/secura-cyber-incident.git
cd secura-cyber-incident
```

### Step 2: Backend Setup & Configuration

**Install Dependencies:**
```bash
cd backend
pip install -r requirements.txt
```

**Configure Environment Variables:**

Create and configure `backend/.env` file:
```bash
cp .env.example .env
# Edit .env with your Firebase, Gemini, Pinecone, ImageKit, and SendGrid credentials
```

**See template:** [backend/.env.example](backend/.env.example)

**Initialize Users & Start Server:**
```bash
# Create admin and security team users
python scripts/create_admin.py
python scripts/create_security_team.py

# Start backend server
python run.py
```

**Verify Backend:** `curl http://127.0.0.1:8000/health`

### Step 3: Frontend Setup & Configuration

**Install Dependencies:**
```bash
cd frontend
npm install
```

**Configure Environment Variables:**

Create and configure `frontend/.env.local` file:
```bash
cp .env.example .env.local
# Edit .env.local with your Firebase config, Backend API URL, and ImageKit credentials
```

**See template:** [frontend/.env.example](frontend/.env.example)

**Start Development Server:**
```bash
npm run dev
```

**Verify Frontend:** http://localhost:3000

### Step 4: Login & Test

**Test Credentials:**
- **Admin:** `admin@secura.com` / `SecuraAdmin123!`
- **Security Lead:** `security.lead@secura.com` / `SecuraSecLead123!`
- **Employee:** `employee1@secura.com` / `SecuraEmployee123!` or register at `/auth/register`

**Application URLs:**
- Frontend: http://localhost:3000
- Backend API: http://127.0.0.1:8000
- API Documentation: http://127.0.0.1:8000/docs

## ğŸ”§ Production Environment Configuration

For production deployment, update your environment variables:

**Backend (`backend/.env`):**
- Configure production Firebase credentials (project ID, private key, client email)
- Add SendGrid API key for email notifications
- Update Gemini API key for production quota
- Configure Pinecone production instance
- Update ImageKit production keys

**Frontend (`frontend/.env.local`):**
- Update `NEXT_PUBLIC_API_URL` to production backend URL (e.g., HuggingFace Space URL)
- Configure production Firebase project credentials
- Update ImageKit production keys

**Note:** CORS is currently set to allow all origins. For production, modify `app/main.py` line 38 to restrict origins.

## ğŸ“ Project Structure

```
secura-cyber-incident/
â”œâ”€â”€ frontend/          # Next.js 16 PWA (React 19, TypeScript, Tailwind)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/      # Pages (auth, dashboard, incidents, applications, profile)
â”‚   â”‚   â”œâ”€â”€ components/  # 31 React components
â”‚   â”‚   â”œâ”€â”€ store/    # Redux Toolkit (auth, applications, users)
â”‚   â”‚   â”œâ”€â”€ lib/      # Firebase & ImageKit config
â”‚   â”‚   â””â”€â”€ types/    # TypeScript definitions
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/          # FastAPI Python Backend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/      # 42+ endpoints
â”‚   â”‚   â”œâ”€â”€ services/ # Business logic (auth, incident, ai, chatbot RAG, messaging)
â”‚   â”‚   â”œâ”€â”€ models/   # Pydantic models
â”‚   â”‚   â”œâ”€â”€ core/     # Firebase config, WebSocket manager
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ scripts/      # create_admin.py, create_security_team.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ .github/workflows/  # CI/CD pipeline
â””â”€â”€ README.md
```

## ğŸ”Œ API Endpoints (42+)

- **Auth** (11): Registration, login, profile, roles, admin management
- **Incidents** (15): CRUD, assignment, status, attachments, messaging, dashboard stats
- **AI Engine** (10): Dual categorization (ML ensemble + Gemini AI), severity assessment, threat scoring, mitigation strategies, threat intelligence, predictive analytics, anomaly detection, image analysis with OCR
- **Chatbot** (2): RAG chat, health monitoring
- **Analytics** (12): Dashboards, compliance reports (PDF), trends, exports (CSV/PDF/Excel), SIEM
- **Messaging** (10+): Conversations, real-time chat, team communication, WebSocket
- **Applications** (6): Security team application workflow, document uploads
- **Activity** (5): Online status, heartbeat, activity logging

**Full API Documentation:** http://127.0.0.1:8000/docs

## ğŸ§ª Testing & Verification

### Interactive API Testing
- **Swagger UI:** http://127.0.0.1:8000/docs - Test all 42+ endpoints with built-in interface
- **ReDoc:** http://127.0.0.1:8000/redoc - Alternative documentation view

### Health Checks
```bash
curl http://127.0.0.1:8000/health
# Expected: {"status":"healthy","service":"Secura Backend"}
```

### Integration Testing
1. Register new employee account
2. Login as admin and review security applications
3. Test incident reporting with AI categorization
4. Verify role-based dashboard access
5. Test real-time WebSocket messaging

## ğŸš€ Deployment

### Frontend Deployment (Vercel)
```bash
cd frontend
npm run build
vercel --prod
```

### Backend Deployment (Docker/HuggingFace)
```bash
cd backend
docker build -t secura-backend .
# For HuggingFace Spaces (default)
docker run -p 7860:7860 secura-backend
# For local deployment on port 8000
docker run -p 8000:7860 secura-backend
```

**Note:**
- Dockerfile is configured for HuggingFace Spaces (port 7860)
- Update environment variables for production as described in the Environment Configuration section
- For HuggingFace deployment, push to your Space repository

## ğŸ“Š Performance & Status

**AI/ML Performance:**
- 85-92% threat categorization accuracy with ensemble ML models
- Multi-factor severity assessment with confidence scoring
- <500ms ML prediction time, 1-3s Gemini AI analysis
- OCR text extraction with Gemini AI image threat analysis

**System Performance:**
- <200ms average API response time
- 1-3s RAG chatbot response with context retrieval
- Real-time WebSocket messaging and notifications
- Auto-scaling Firestore with Firebase infrastructure
- Production deployment on Vercel (frontend) and HuggingFace Spaces (backend)

**Production Status:**
âœ… All systems operational â€¢ Authentication (4 roles) â€¢ Incident Management (AI-enhanced) â€¢ AI Analysis â€¢ File Management (ImageKit) â€¢ Real-time (WebSocket) â€¢ Analytics & Reporting â€¢ RAG Chatbot (Gemini + Pinecone) â€¢ Full Integration

**Status:** 100% complete, tested, and deployed. Ready for production use.

## ğŸ† Team

**Team Secura** - Full-Stack Cyber Incident Management Platform

- **Aditha Buwaneka** - Team Leader
- **Vishwa Jayasanka**
- **Garuka Satharasinghe**
- **Rithara Kithmanthie**
- **Pramudi Samarawikrama**

## ğŸ“„ License

This project is licensed under the MIT License - see [LICENSE](LICENSE) file for details.

---

**ğŸ›¡ï¸ Secura - Transforming cybersecurity through intelligent automation and human-centered design.**

*Built with â¤ï¸ for a more secure digital world*
